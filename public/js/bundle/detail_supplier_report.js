(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{1098:function(t,e,a){"use strict";a.r(e);var s=a(4);function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function n(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var i={data:function(){return{totalRows_purchases:"",totalRows_returns:"",totalRows_payments:"",limit_returns:"10",limit_purchases:"10",limit_payments:"10",purchases_page:1,Return_page:1,Payment_page:1,isLoading:!0,returns_supplier:[],payments:[],purchases:[],provider:{id:"",name:"",total_purchase:0,total_amount:0,total_paid:0,due:0}}},computed:n(n({},Object(s.c)(["currentUser"])),{},{columns_purchases:function(){return[{label:this.$t("Reference"),field:"Ref",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Status"),field:"statut",html:!0,tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Total"),field:"GrandTotal",type:"decimal",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Paid"),field:"paid_amount",type:"decimal",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Due"),field:"due",type:"decimal",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("PaymentStatus"),field:"payment_status",html:!0,tdClass:"text-left",thClass:"text-left",sortable:!1}]},columns_returns:function(){return[{label:this.$t("Reference"),field:"Ref",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Supplier"),field:"provider_name",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Status"),field:"statut",html:!0,tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Total"),field:"GrandTotal",type:"decimal",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Paid"),field:"paid_amount",type:"decimal",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Due"),field:"due",type:"decimal",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("PaymentStatus"),field:"payment_status",html:!0,tdClass:"text-left",thClass:"text-left",sortable:!1}]},columns_payments:function(){return[{label:this.$t("date"),field:"date",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Reference"),field:"Ref",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Purchase"),field:"purchase_Ref",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("ModePaiement"),field:"Reglement",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Amount"),field:"montant",tdClass:"text-left",thClass:"text-left",type:"decimal",sortable:!1}]}}),methods:{formatNumber:function(t,e){var a=("string"==typeof t?t:t.toString()).split(".");if(e<=0)return a[0];var s=a[1]||"";if(s.length>e)return"".concat(a[0],".").concat(s.substr(0,e));for(;s.length<e;)s+="0";return"".concat(a[0],".").concat(s)},Get_Reports:function(){var t=this,e=this.$route.params.id;axios.get("report/provider/".concat(e)).then((function(e){t.provider=e.data.report,t.isLoading=!1})).catch((function(e){setTimeout((function(){t.isLoading=!1}),500)}))},PageChangePurchases:function(t){var e=t.currentPage;this.purchases_page!==e&&this.Get_Sales(e)},onPerPageChangePurchases:function(t){var e=t.currentPerPage;this.limit_purchases!==e&&(this.limit_purchases=e,this.Get_Purchases(1))},Get_Purchases:function(t){var e=this;axios.get("report/provider_purchases?page="+t+"&limit="+this.limit_purchases+"&id="+this.$route.params.id).then((function(t){e.purchases=t.data.purchases,e.totalRows=t.data.totalRows,e.isLoading=!1})).catch((function(t){e.isLoading=!1}))},PageChangePayments:function(t){var e=t.currentPage;this.Payment_page!==e&&this.Get_Payments(e)},onPerPageChangePayments:function(t){var e=t.currentPerPage;this.limit_payments!==e&&(this.limit_payments=e,this.Get_Payments(1))},Get_Payments:function(t){var e=this;axios.get("/report/provider_payments?page="+t+"&limit="+this.limit_payments+"&id="+this.$route.params.id).then((function(t){e.payments=t.data.payments,e.totalRows=t.data.totalRows})).catch((function(t){}))},PageChangeReturns:function(t){var e=t.currentPage;this.Return_page!==e&&this.Get_Returns(e)},onPerPageChangeReturns:function(t){var e=t.currentPerPage;this.limit_returns!==e&&(this.limit_returns=e,this.Get_Returns(1))},Get_Returns:function(t){var e=this;axios.get("/report/provider_returns?page="+t+"&limit="+this.limit_payments+"&id="+this.$route.params.id).then((function(t){e.returns_supplier=t.data.returns_supplier,e.totalRows=t.data.totalRows})).catch((function(t){}))}},created:function(){this.Get_Reports(),this.Get_Purchases(1),this.Get_Payments(1),this.Get_Returns(1)}},o=a(2),c=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content"},[a("breadcumb",{attrs:{page:t.$t("SuppliersReport"),folder:t.$t("Reports")}}),t._v(" "),t.isLoading?a("div",{staticClass:"loading_page spinner spinner-primary mr-3"}):t._e(),t._v(" "),t.isLoading?t._e():a("b-row",[a("b-col",{attrs:{lg:"3",md:"6",sm:"12"}},[a("b-card",{staticClass:"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center"},[a("i",{staticClass:"i-Full-Cart"}),t._v(" "),a("div",{staticClass:"content"},[a("p",{staticClass:"text-muted mt-2 mb-0"},[t._v(t._s(t.$t("Purchases")))]),t._v(" "),a("p",{staticClass:"text-primary text-24 line-height-1 mb-2"},[t._v(t._s(t.formatNumber(t.provider.total_purchase,2)))])])])],1),t._v(" "),a("b-col",{attrs:{lg:"3",md:"6",sm:"12"}},[a("b-card",{staticClass:"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center"},[a("i",{staticClass:"i-Financial"}),t._v(" "),a("div",{staticClass:"content"},[a("p",{staticClass:"text-muted mt-2 mb-0"},[t._v(t._s(t.$t("TotalAmount")))]),t._v(" "),a("p",{staticClass:"text-primary text-24 line-height-1 mb-2"},[t._v(t._s(t.currentUser.currency)+" "+t._s(t.formatNumber(t.provider.total_amount,2)))])])])],1),t._v(" "),a("b-col",{attrs:{lg:"3",md:"6",sm:"12"}},[a("b-card",{staticClass:"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center"},[a("i",{staticClass:"i-Money-2"}),t._v(" "),a("div",{staticClass:"content"},[a("p",{staticClass:"text-muted mt-2 mb-0"},[t._v(t._s(t.$t("TotalPaid")))]),t._v(" "),a("p",{staticClass:"text-primary text-24 line-height-1 mb-2"},[t._v(t._s(t.currentUser.currency)+" "+t._s(t.formatNumber(t.provider.total_paid,2)))])])])],1),t._v(" "),a("b-col",{attrs:{lg:"3",md:"6",sm:"12"}},[a("b-card",{staticClass:"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center"},[a("i",{staticClass:"i-Money-Bag"}),t._v(" "),a("div",{staticClass:"content"},[a("p",{staticClass:"text-muted mt-2 mb-0"},[t._v(t._s(t.$t("Due")))]),t._v(" "),a("p",{staticClass:"text-primary text-24 line-height-1 mb-2"},[t._v(t._s(t.currentUser.currency)+" "+t._s(t.formatNumber(t.provider.due,2)))])])])],1)],1),t._v(" "),t.isLoading?t._e():a("b-row",[a("b-col",{attrs:{md:"12"}},[a("b-card",{staticClass:"card mb-30",attrs:{"header-bg-variant":"transparent "}},[a("b-tabs",{attrs:{"active-nav-item-class":"nav nav-tabs","content-class":"mt-3"}},[a("b-tab",{attrs:{title:t.$t("Purchases")}},[a("vue-good-table",{attrs:{mode:"remote",columns:t.columns_purchases,totalRows:t.totalRows_purchases,rows:t.purchases,"pagination-options":{enabled:!0,mode:"records",nextLabel:"next",prevLabel:"prev"},styleClass:"tableOne table-hover vgt-table"},on:{"on-page-change":t.PageChangePurchases,"on-per-page-change":t.onPerPageChangePurchases},scopedSlots:t._u([{key:"table-row",fn:function(e){return["statut"==e.column.field?a("div",["received"==e.row.statut?a("span",{staticClass:"badge badge-outline-success"},[t._v(t._s(t.$t("Received")))]):"pending"==e.row.statut?a("span",{staticClass:"badge badge-outline-info"},[t._v(t._s(t.$t("Pending")))]):a("span",{staticClass:"badge badge-outline-warning"},[t._v(t._s(t.$t("Ordered")))])]):"payment_status"==e.column.field?a("div",["paid"==e.row.payment_status?a("span",{staticClass:"badge badge-outline-success"},[t._v(t._s(t.$t("Paid")))]):"partial"==e.row.payment_status?a("span",{staticClass:"badge badge-outline-primary"},[t._v(t._s(t.$t("partial")))]):a("span",{staticClass:"badge badge-outline-warning"},[t._v(t._s(t.$t("Unpaid")))])]):t._e()]}}],null,!1,3596438109)})],1),t._v(" "),a("b-tab",{attrs:{title:t.$t("Returns")}},[a("vue-good-table",{attrs:{mode:"remote",columns:t.columns_returns,totalRows:t.totalRows_returns,rows:t.returns_supplier,"pagination-options":{enabled:!0,mode:"records",nextLabel:"next",prevLabel:"prev"},styleClass:"tableOne table-hover vgt-table"},on:{"on-page-change":t.PageChangeReturns,"on-per-page-change":t.onPerPageChangeReturns},scopedSlots:t._u([{key:"table-row",fn:function(e){return["statut"==e.column.field?a("div",["completed"==e.row.statut?a("span",{staticClass:"badge badge-outline-success"},[t._v(t._s(t.$t("complete")))]):a("span",{staticClass:"badge badge-outline-info"},[t._v(t._s(t.$t("Pending")))])]):"payment_status"==e.column.field?a("div",["paid"==e.row.payment_status?a("span",{staticClass:"badge badge-outline-success"},[t._v(t._s(t.$t("Paid")))]):"partial"==e.row.payment_status?a("span",{staticClass:"badge badge-outline-primary"},[t._v(t._s(t.$t("partial")))]):a("span",{staticClass:"badge badge-outline-warning"},[t._v(t._s(t.$t("Unpaid")))])]):t._e()]}}],null,!1,2902550969)})],1),t._v(" "),a("b-tab",{attrs:{title:t.$t("PurchaseInvoice")}},[a("vue-good-table",{attrs:{mode:"remote",columns:t.columns_payments,totalRows:t.totalRows_payments,rows:t.payments,"pagination-options":{enabled:!0,mode:"records",nextLabel:"next",prevLabel:"prev"},styleClass:"tableOne table-hover vgt-table"},on:{"on-page-change":t.PageChangePayments,"on-per-page-change":t.onPerPageChangePayments}})],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=c.exports}}]);