(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1107:function(t,e,s){"use strict";s.r(e);var a=s(45),r=s.n(a),o=s(0),i=s.n(o),c={components:{barcode:r.a},data:function(){return{focused:!1,timer:null,search_input:"",product_filter:[],isLoading:!0,ShowCard:!1,barcode:{product_id:"",warehouse_id:"",qte:10},count:"",paper_size:"",sheets:"",total_a4:"",class_sheet:"",class_type_page:"",rest:"",warehouses:[],submitStatus:null,products:[],product:{name:"",code:"",Type_barcode:"",barcode:""}}},methods:{Per_Page:function(){this.total_a4=parseInt(this.barcode.qte/this.sheets),this.rest=this.barcode.qte%this.sheets},Selected_Paper_size:function(t){"style40"==t?(this.sheets=40,this.class_sheet="style40",this.class_type_page="barcodea4"):"style30"==t?(this.sheets=30,this.class_type_page="barcode_non_a4",this.class_sheet="style30"):"style24"==t?(this.sheets=24,this.class_sheet="style24",this.class_type_page="barcodea4"):"style20"==t?(this.sheets=20,this.class_sheet="style20",this.class_type_page="barcode_non_a4"):"style18"==t?(this.sheets=18,this.class_sheet="style18",this.class_type_page="barcodea4"):"style14"==t?(this.sheets=14,this.class_sheet="style14",this.class_type_page="barcode_non_a4"):"style12"==t?(this.sheets=12,this.class_sheet="style12",this.class_type_page="barcodea4"):"style10"==t&&(this.sheets=10,this.class_sheet="style10",this.class_type_page="barcode_non_a4"),this.Per_Page()},submit:function(){var t=this;this.$refs.show_Barcode.validate().then((function(e){e&&t.showBarcode()}))},getValidationState:function(t){var e=t.dirty,s=t.validated,a=t.valid;return e||s?void 0===a?null:a:null},handleFocus:function(){this.focused=!0},handleBlur:function(){this.focused=!1},search:function(){var t=this;if(this.timer&&(clearTimeout(this.timer),this.timer=null),this.search_input.length<1)return this.product_filter=[];""!=this.barcode.warehouse_id&&null!=this.barcode.warehouse_id?this.timer=setTimeout((function(){t.product_filter=t.products.filter((function(e){return e.name.toLowerCase().includes(t.search_input.toLowerCase())||e.code.toLowerCase().includes(t.search_input.toLowerCase())||e.barcode.toLowerCase().includes(t.search_input.toLowerCase())}))}),800):this.makeToast("warning",this.$t("SelectWarehouse"),this.$t("Warning"))},getResultValue:function(t){return t.code+" ("+t.name+")"},SearchProduct:function(t){this.product={},this.product.code===t.code?this.makeToast("warning",this.$t("AlreadyAdd"),this.$t("Warning")):(this.product.code=t.code,this.product.barcode=t.barcode,this.product.name=t.name,this.product.Type_barcode=t.Type_barcode),this.search_input="",this.product_filter=[]},makeToast:function(t,e,s){this.$root.$bvToast.toast(e,{title:s,variant:t,solid:!0})},Get_Products_By_Warehouse:function(t){var e=this;i.a.start(),i.a.set(.1),axios.get("Products/Warehouse/"+t+"?stock=0").then((function(t){e.products=t.data,i.a.done()})).catch((function(t){}))},print_Bracode:function(){var t=document.getElementById("print_barcode_label").innerHTML,e=window.open("","","height=500, width=500");e.document.write('<link rel="stylesheet" href="/assets_setup/css/print_label.css"><html>'),e.document.write("<body >"),e.document.write(t),e.document.write("</body></html>"),e.document.close(),e.print()},showBarcode:function(){this.Per_Page(),this.count=this.barcode.qte,this.ShowCard=!0},Selected_Warehouse:function(t){this.search_input="",this.product_filter=[],this.Get_Products_By_Warehouse(t)},Get_Elements:function(){var t=this;axios.get("Products/Get_element/barcode").then((function(e){t.warehouses=e.data.warehouses,t.isLoading=!1})).catch((function(e){setTimeout((function(){t.isLoading=!1}),500)}))},reset:function(){this.ShowCard=!1,this.products=[],this.product.name="",this.product.code="",this.barcode.qte=10,this.count=10,this.barcode.warehouse_id="",this.search_input="",this.product_filter=[]}},created:function(){this.Get_Elements()}},n=s(2),l=Object(n.a)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-content"},[s("breadcumb",{attrs:{page:t.$t("Printbarcode"),folder:t.$t("Products")}}),t._v(" "),t.isLoading?s("div",{staticClass:"loading_page spinner spinner-primary mr-3"}):t._e(),t._v(" "),t.isLoading?t._e():s("b-row",[s("b-col",{staticClass:"mb-3",attrs:{md:"6"}},[s("validation-observer",{ref:"show_Barcode"},[s("validation-provider",{attrs:{name:"warehouse",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.valid,r=e.errors;return s("b-form-group",{attrs:{label:t.$t("warehouse")}},[s("v-select",{class:{"is-invalid":!!r.length},attrs:{state:!r[0]&&(!!a||null),reduce:function(t){return t.value},placeholder:t.$t("Choose_Warehouse"),options:t.warehouses.map((function(t){return{label:t.name,value:t.id}}))},on:{input:t.Selected_Warehouse},model:{value:t.barcode.warehouse_id,callback:function(e){t.$set(t.barcode,"warehouse_id",e)},expression:"barcode.warehouse_id"}}),t._v(" "),s("b-form-invalid-feedback",[t._v(t._s(r[0]))])],1)}}],null,!1,3978595028)})],1)],1),t._v(" "),s("b-col",{staticClass:"mb-3",attrs:{md:"12"}},[s("h6",[t._v(t._s(t.$t("ProductName")))]),t._v(" "),s("div",{staticClass:"autocomplete",attrs:{id:"autocomplete"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search_input,expression:"search_input"}],staticClass:"autocomplete-input",attrs:{placeholder:t.$t("Scan_Search_Product_by_Code_Name")},domProps:{value:t.search_input},on:{keyup:function(e){return t.search()},focus:t.handleFocus,blur:t.handleBlur,input:function(e){e.target.composing||(t.search_input=e.target.value)}}}),t._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:t.focused,expression:"focused"}],staticClass:"autocomplete-result-list"},t._l(t.product_filter,(function(e){return s("li",{staticClass:"autocomplete-result",on:{mousedown:function(s){return t.SearchProduct(e)}}},[t._v(t._s(t.getResultValue(e)))])})),0)])]),t._v(" "),s("b-col",{attrs:{md:"12"}},[s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-hover table-md"},[s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("ProductName")))]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("CodeProduct")))]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Quantity")))])])]),t._v(" "),s("tbody",[""===t.product.code?s("tr",[s("td",{attrs:{colspan:"3"}},[t._v(t._s(t.$t("NodataAvailable")))])]):s("tr",[s("td",[t._v(t._s(t.product.name))]),t._v(" "),s("td",[t._v(t._s(t.product.code))]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.barcode.qte,expression:"barcode.qte",modifiers:{number:!0}}],staticClass:"form-control w-50 h-25",attrs:{id:"qte",type:"number",name:"qte"},domProps:{value:t.barcode.qte},on:{input:function(e){e.target.composing||t.$set(t.barcode,"qte",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])])])]),t._v(" "),s("b-col",{attrs:{md:"12"}},[s("b-form-group",{attrs:{label:t.$t("Paper_size")}},[s("v-select",{attrs:{reduce:function(t){return t.value},placeholder:t.$t("Paper_size"),options:[{label:"40 per sheet (a4) (1.799 * 1.003)",value:"style40"},{label:"30 per sheet (2.625 * 1)",value:"style30"},{label:"24 per sheet (a4) (2.48 * 1.334)",value:"style24"},{label:"20 per sheet (4 * 1)",value:"style20"},{label:"18 per sheet (a4) (2.5 * 1.835)",value:"style18"},{label:"14 per sheet (4 * 1.33)",value:"style14"},{label:"12 per sheet (a4) (2.5 * 2.834)",value:"style12"},{label:"10 per sheet (4 * 2)",value:"style10"}]},on:{input:t.Selected_Paper_size},model:{value:t.paper_size,callback:function(e){t.paper_size=e},expression:"paper_size"}})],1)],1),t._v(" "),s("b-col",{attrs:{md:"12"}},[s("button",{staticClass:"btn btn-primary btn-sm m-1",attrs:{type:"submit"},on:{click:function(e){return t.submit()}}},[s("i",{staticClass:"i-Edit"}),t._v("\n          "+t._s(t.$t("Updat"))+"\n        ")]),t._v(" "),s("button",{staticClass:"btn btn-danger btn-sm m-1",attrs:{type:"submit"},on:{click:function(e){return t.reset()}}},[s("i",{staticClass:"i-Power-2"}),t._v("\n          "+t._s(t.$t("Reset"))+"\n        ")]),t._v(" "),s("button",{staticClass:"btn btn-light btn-sm pull-right m-1",attrs:{value:"Print",type:"submit"},on:{click:function(e){return t.print_Bracode("print_barcode")}}},[s("i",{staticClass:"i-Billing"}),t._v("\n          "+t._s(t.$t("print"))+"\n        ")])]),t._v(" "),s("b-col",{attrs:{md:"12"}},[t.ShowCard?s("div",{staticClass:"barcode-row",attrs:{id:"print_barcode_label"}},[t._l(t.total_a4,(function(e,a){return s("div",{key:a,class:t.class_type_page},t._l(t.sheets,(function(e,a){return s("div",{key:a,staticClass:"barcode-item",class:t.class_sheet},[s("span",{staticClass:"barcode-name"},[t._v(t._s(t.product.name))]),t._v(" "),s("barcode",{staticClass:"barcode",attrs:{format:t.product.Type_barcode,value:t.product.barcode,textmargin:"0",fontoptions:"bold",fontSize:"15",height:"25",width:"1"}})],1)})),0)})),t._v(" "),t.rest>0?s("div",{class:t.class_type_page},t._l(t.rest,(function(e,a){return s("div",{key:a,staticClass:"barcode-item",class:t.class_sheet},[s("span",{staticClass:"barcode-name"},[t._v(t._s(t.product.name))]),t._v(" "),s("barcode",{staticClass:"barcode",attrs:{fontSize:"15",format:t.product.Type_barcode,value:t.product.barcode,textmargin:"0",fontoptions:"bold",height:"25",width:"1"}})],1)})),0):t._e()],2):t._e()])],1)],1)}),[],!1,null,null,null);e.default=l.exports}}]);