(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1100:function(t,e,a){"use strict";a.r(e);var s=a(4);function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function n(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){i(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function i(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var o={data:function(){return{totalRows_quotations:"",totalRows_sales:"",totalRows_returns:"",totalRows_payments:"",limit_quotations:"10",limit_returns:"10",limit_sales:"10",limit_payments:"10",sales_page:1,quotations_page:1,Return_sale_page:1,Payment_sale_page:1,isLoading:!0,payments:[],sales:[],quotations:[],returns_customer:[],client:{id:"",name:"",total_sales:0,total_amount:0,total_paid:0,due:0}}},computed:n(n({},Object(s.c)(["currentUser"])),{},{columns_quotations:function(){return[{label:this.$t("date"),field:"date",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Reference"),field:"Ref",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Total"),field:"GrandTotal",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Status"),field:"statut",tdClass:"text-left",thClass:"text-left",html:!0,sortable:!1}]},columns_sales:function(){return[{label:this.$t("Reference"),field:"Ref",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Status"),field:"statut",html:!0,tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Total"),field:"GrandTotal",type:"decimal",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Paid"),field:"paid_amount",type:"decimal",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Due"),field:"due",type:"decimal",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("PaymentStatus"),field:"payment_status",html:!0,tdClass:"text-left",thClass:"text-left",sortable:!1}]},columns_returns:function(){return[{label:this.$t("Reference"),field:"Ref",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Customer"),field:"client_name",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Status"),field:"statut",html:!0,tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Total"),field:"GrandTotal",type:"decimal",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Paid"),field:"paid_amount",type:"decimal",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Due"),field:"due",type:"decimal",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("PaymentStatus"),field:"payment_status",html:!0,tdClass:"text-left",thClass:"text-left",sortable:!1}]},columns_payments:function(){return[{label:this.$t("date"),field:"date",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Reference"),field:"Ref",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Sale"),field:"Sale_Ref",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("ModePaiement"),field:"Reglement",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Amount"),field:"montant",tdClass:"text-left",thClass:"text-left",type:"decimal",sortable:!1}]}}),methods:{formatNumber:function(t,e){var a=("string"==typeof t?t:t.toString()).split(".");if(e<=0)return a[0];var s=a[1]||"";if(s.length>e)return"".concat(a[0],".").concat(s.substr(0,e));for(;s.length<e;)s+="0";return"".concat(a[0],".").concat(s)},Get_Reports:function(){var t=this,e=this.$route.params.id;axios.get("report/client/".concat(e)).then((function(e){t.client=e.data.report})).catch((function(t){}))},PageChangeSales:function(t){var e=t.currentPage;this.sales_page!==e&&this.Get_Sales(e)},onPerPageChangeSales:function(t){var e=t.currentPerPage;this.limit_sales!==e&&(this.limit_sales=e,this.Get_Sales(1))},Get_Sales:function(t){var e=this;axios.get("/report/client_Sales?page="+t+"&limit="+this.limit_sales+"&id="+this.$route.params.id).then((function(t){e.sales=t.data.sales,e.totalRows=t.data.totalRows})).catch((function(t){}))},PageChangePayments:function(t){var e=t.currentPage;this.Payment_sale_page!==e&&this.Get_Payments(e)},onPerPageChangePayments:function(t){var e=t.currentPerPage;this.limit_payments!==e&&(this.limit_payments=e,this.Get_Payments(1))},Get_Payments:function(t){var e=this;axios.get("report/client_payments?page="+t+"&limit="+this.limit_payments+"&id="+this.$route.params.id).then((function(t){e.payments=t.data.payments,e.totalRows=t.data.totalRows})).catch((function(t){}))},PageChangeQuotation:function(t){var e=t.currentPage;this.quotations_page!==e&&this.Get_Quotations(e)},onPerPageChangeQuotation:function(t){var e=t.currentPerPage;this.limit_quotations!==e&&(this.limit_quotations=e,this.Get_Quotations(1))},Get_Quotations:function(t){var e=this;axios.get("report/client_quotations?page="+t+"&limit="+this.limit_quotations+"&id="+this.$route.params.id).then((function(t){e.quotations=t.data.quotations,e.totalRows=t.data.totalRows,e.isLoading=!1})).catch((function(t){setTimeout((function(){e.isLoading=!1}),500)}))},PageChangeReturn:function(t){var e=t.currentPage;this.Return_sale_page!==e&&this.Get_Returns(e)},onPerPageChangeReturn:function(t){var e=t.currentPerPage;this.limit_returns!==e&&(this.limit_returns=e,this.Get_Returns(1))},Get_Returns:function(t){var e=this;axios.get("/report/client_returns?page="+t+"&limit="+this.limit_returns+"&id="+this.$route.params.id).then((function(t){e.returns_customer=t.data.returns_customer,e.totalRows=t.data.totalRows})).catch((function(t){}))}},created:function(){this.Get_Reports(),this.Get_Sales(1),this.Get_Payments(1),this.Get_Quotations(1),this.Get_Returns(1)}},r=a(2),c=Object(r.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content"},[a("breadcumb",{attrs:{page:t.$t("CustomersReport"),folder:t.$t("Reports")}}),t._v(" "),t.isLoading?a("div",{staticClass:"loading_page spinner spinner-primary mr-3"}):t._e(),t._v(" "),t.isLoading?t._e():a("b-row",[a("b-col",{attrs:{lg:"3",md:"6",sm:"12"}},[a("b-card",{staticClass:"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center"},[a("i",{staticClass:"i-Full-Cart"}),t._v(" "),a("div",{staticClass:"content"},[a("p",{staticClass:"text-muted mt-2 mb-0"},[t._v(t._s(t.$t("Sales")))]),t._v(" "),a("p",{staticClass:"text-primary text-24 line-height-1 mb-2"},[t._v(t._s(t.formatNumber(t.client.total_sales,2)))])])])],1),t._v(" "),a("b-col",{attrs:{lg:"3",md:"6",sm:"12"}},[a("b-card",{staticClass:"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center"},[a("i",{staticClass:"i-Financial"}),t._v(" "),a("div",{staticClass:"content"},[a("p",{staticClass:"text-muted mt-2 mb-0"},[t._v(t._s(t.$t("TotalAmount")))]),t._v(" "),a("p",{staticClass:"text-primary text-24 line-height-1 mb-2"},[t._v(t._s(t.currentUser.currency)+" "+t._s(t.formatNumber(t.client.total_amount,2)))])])])],1),t._v(" "),a("b-col",{attrs:{lg:"3",md:"6",sm:"12"}},[a("b-card",{staticClass:"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center"},[a("i",{staticClass:"i-Money-2"}),t._v(" "),a("div",{staticClass:"content"},[a("p",{staticClass:"text-muted mt-2 mb-0"},[t._v(t._s(t.$t("TotalPaid")))]),t._v(" "),a("p",{staticClass:"text-primary text-24 line-height-1 mb-2"},[t._v(t._s(t.currentUser.currency)+" "+t._s(t.formatNumber(t.client.total_paid,2)))])])])],1),t._v(" "),a("b-col",{attrs:{lg:"3",md:"6",sm:"12"}},[a("b-card",{staticClass:"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center"},[a("i",{staticClass:"i-Money-Bag"}),t._v(" "),a("div",{staticClass:"content"},[a("p",{staticClass:"text-muted mt-2 mb-0"},[t._v(t._s(t.$t("Due")))]),t._v(" "),a("p",{staticClass:"text-primary text-24 line-height-1 mb-2"},[t._v(t._s(t.currentUser.currency)+" "+t._s(t.formatNumber(t.client.due,2)))])])])],1)],1),t._v(" "),t.isLoading?t._e():a("b-row",[a("b-col",{attrs:{md:"12"}},[a("b-card",{staticClass:"card mb-30",attrs:{"header-bg-variant":"transparent "}},[a("b-tabs",{attrs:{"active-nav-item-class":"nav nav-tabs","content-class":"mt-3"}},[a("b-tab",{attrs:{title:t.$t("Quotations")}},[a("vue-good-table",{attrs:{mode:"remote",columns:t.columns_quotations,totalRows:t.totalRows_quotations,rows:t.quotations,"pagination-options":{enabled:!0,mode:"records",nextLabel:"next",prevLabel:"prev"},styleClass:"tableOne table-hover vgt-table"},on:{"on-page-change":t.PageChangeQuotation,"on-per-page-change":t.onPerPageChangeQuotation},scopedSlots:t._u([{key:"table-row",fn:function(e){return["statut"==e.column.field?a("div",["sent"==e.row.statut?a("span",{staticClass:"badge badge-outline-success"},[t._v(t._s(t.$t("Sent")))]):a("span",{staticClass:"badge badge-outline-info"},[t._v(t._s(t.$t("Pending")))])]):t._e()]}}],null,!1,55538325)})],1),t._v(" "),a("b-tab",{attrs:{title:t.$t("Sales")}},[a("vue-good-table",{attrs:{mode:"remote",columns:t.columns_sales,totalRows:t.totalRows_sales,rows:t.sales,"pagination-options":{enabled:!0,mode:"records",nextLabel:"next",prevLabel:"prev"},styleClass:"tableOne table-hover vgt-table"},on:{"on-page-change":t.PageChangeSales,"on-per-page-change":t.onPerPageChangeSales},scopedSlots:t._u([{key:"table-row",fn:function(e){return["statut"==e.column.field?a("div",["completed"==e.row.statut?a("span",{staticClass:"badge badge-outline-success"},[t._v(t._s(t.$t("complete")))]):"pending"==e.row.statut?a("span",{staticClass:"badge badge-outline-info"},[t._v(t._s(t.$t("Pending")))]):a("span",{staticClass:"badge badge-outline-warning"},[t._v(t._s(t.$t("Ordered")))])]):"payment_status"==e.column.field?a("div",["paid"==e.row.payment_status?a("span",{staticClass:"badge badge-outline-success"},[t._v(t._s(t.$t("Paid")))]):"partial"==e.row.payment_status?a("span",{staticClass:"badge badge-outline-primary"},[t._v(t._s(t.$t("partial")))]):a("span",{staticClass:"badge badge-outline-warning"},[t._v(t._s(t.$t("Unpaid")))])]):t._e()]}}],null,!1,2617766521)})],1),t._v(" "),a("b-tab",{attrs:{title:t.$t("Returns")}},[a("vue-good-table",{attrs:{mode:"remote",columns:t.columns_returns,totalRows:t.totalRows_returns,rows:t.returns_customer,"pagination-options":{enabled:!0,mode:"records",nextLabel:"next",prevLabel:"prev"},styleClass:"tableOne table-hover vgt-table"},on:{"on-page-change":t.PageChangeReturn,"on-per-page-change":t.onPerPageChangeReturn},scopedSlots:t._u([{key:"table-row",fn:function(e){return["statut"==e.column.field?a("div",["received"==e.row.statut?a("span",{staticClass:"badge badge-outline-success"},[t._v(t._s(t.$t("Received")))]):a("span",{staticClass:"badge badge-outline-info"},[t._v(t._s(t.$t("Pending")))])]):"payment_status"==e.column.field?a("div",["paid"==e.row.payment_status?a("span",{staticClass:"badge badge-outline-success"},[t._v(t._s(t.$t("Paid")))]):"partial"==e.row.payment_status?a("span",{staticClass:"badge badge-outline-primary"},[t._v(t._s(t.$t("partial")))]):a("span",{staticClass:"badge badge-outline-warning"},[t._v(t._s(t.$t("Unpaid")))])]):t._e()]}}],null,!1,4274434333)})],1),t._v(" "),a("b-tab",{attrs:{title:t.$t("SalesInvoice")}},[a("vue-good-table",{attrs:{mode:"remote",columns:t.columns_payments,totalRows:t.totalRows_payments,rows:t.payments,"pagination-options":{enabled:!0,mode:"records",nextLabel:"next",prevLabel:"prev"},styleClass:"tableOne table-hover vgt-table"},on:{"on-page-change":t.PageChangePayments,"on-per-page-change":t.onPerPageChangePayments}})],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=c.exports}}]);